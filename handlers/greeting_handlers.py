from aiogram import types
from aiogram.types import ParseMode

from system.dispatcher import bot, dp


@dp.message_handler(commands=['start'])
async def send_start(message: types.Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""

    with open("media/photos/greeting.jpg", "rb") as photo_file:  # –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ—Ç–æ –¥–ª—è –ø–æ—Å—Ç–∞
        data = ("üë§ –ò–º—è –∫–ª–∏–µ–Ω—Ç, —Å–ø–∞—Å–∏–±–æ —á—Ç–æ –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞!\n\n"
                "üåê –ö–æ–º–ø–∞–Ω–∏—è CFB - –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥ –ø–æ –±–∏–∑–Ω–µ—Å—É —Å –ö–∏—Ç–∞–µ–º!\n"
                "üìã –° –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º —É—Å–ª—É–≥ –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –≤ –º–µ–Ω—é –±–æ—Ç–∞.\n\n"
                "üîî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å, –≤–∫–ª—é—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –Ω–µ —É–¥–∞–ª—è–π—Ç–µ —ç—Ç–æ–≥–æ –±–æ—Ç–∞ –∏–∑ –≤–∞—à–∏—Ö —á–∞—Ç–æ–≤, –∏ —É –í–∞—Å –ø–æ—è–≤–∏—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Ç.–¥.")
        await bot.send_photo(message.from_user.id, caption=data, photo=photo_file, parse_mode=ParseMode.HTML)


def register_greeting_handler():
    """–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º handlers –¥–ª—è –±–æ—Ç–∞"""
    dp.register_message_handler(send_start)  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start, –æ–Ω –∂–µ –ø–æ—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è üëã
